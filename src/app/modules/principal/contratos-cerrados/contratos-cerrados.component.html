<div class="componente-derecha">
  <div class="container-fluid divBarra">
      <div class="row">
        <div div role="main" class="col-md-9 ml-sm-auto col-lg-12 px-md-4">
          <div class="container mt-3">
            <h1>Lista de contratos cerrados</h1>
            <ng-container *ngIf="contratos.length === 0; else contenido">
              <p>No existen contratos a visualizar.</p>
            </ng-container>
            <ng-template #contenido>
              <div *ngFor="let contrato of contratos">
                <div *ngFor="let calificacion of calificaciones">

                  <ng-container *ngIf="contrato.id_publicacion == calificacion.id_publicacion && contrato.publicacion.calificado && contrato.calificado && contratos.length">
                    <div class="card">
                      <div class="card-header">
                        <p>{{ contrato.publicacion.titulo }}</p>
                        <p>{{ contrato.publicacion.descripcion }}</p>
                        <p>
                          {{ contrato.publicacion.empleador.usuario.nombre }}
                          {{ contrato.publicacion.empleador.usuario.apellido }}
                        </p>
                        <p>{{ contrato.publicacion.empleador.id_usuario }}</p>
                        <p>{{ contrato.publicacion.empleador.usuario.email }}</p>
                        <p>{{calificacion.puntuacion}}</p>
                        <p>{{calificacion.comentario}}</p>
                      </div>

                      <!-- {{ contrato | json }} -->
                    </div>
                  </ng-container>


                </div>

              </div>
            </ng-template>

          </div>
        </div>
      </div>
  </div>
</div>


